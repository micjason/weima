/*Obfuscated by JShaman.com*/const CryptoJS=require('./crypto-js/index');const {door,windowInfo,fail,disconnect}=require('./api.min');wx['Log']('door',door);function ab2hex(_0x1aa69e){var _0x5ee902=Array['prototype']['map']['call'](new Uint8Array(_0x1aa69e),function(_0x7fe93f){return('00'+_0x7fe93f['toString'](0x10))['slice'](-0x2);});return _0x5ee902['join']('');}function hex16tostr(_0x3ac059){var _0x56c5f4=_0x3ac059['split']('\x20');var _0x12050f='';for(var _0x4b093d=0x0;_0x4b093d<_0x56c5f4['length'];_0x4b093d++){_0x12050f+=hexCharCodeToStr(_0x56c5f4[_0x4b093d]);}return _0x12050f;}function hexCharCodeToStr(_0x365059){var _0x1e3e03=_0x365059['trim']();var _0x46cf16=_0x1e3e03['substr'](0x0,0x2)['toLowerCase']()==='0x'?_0x1e3e03['substr'](0x2):_0x1e3e03;var _0x189b5a=_0x46cf16['length'];if(_0x189b5a%0x2!==0x0){wx['Log']('Illegal\x20Format\x20ASCII\x20Code!');return'';}var _0x26cdb5;var _0xacebfd=[];for(var _0xbb6aae=0x0;_0xbb6aae<_0x189b5a;_0xbb6aae=_0xbb6aae+0x2){_0x26cdb5=parseInt(_0x46cf16['substr'](_0xbb6aae,0x2),0x10);_0xacebfd['push'](String['fromCharCode'](_0x26cdb5));}return _0xacebfd['join']('');}function strToHexCharCode(_0x2cf6cb){if(_0x2cf6cb==='')return'';var _0x455fdd=_0x2cf6cb['length'];var _0x4f3da3=0x0;var _0x598a23='';for(var _0x1716f4=0x0;_0x1716f4<_0x455fdd;_0x1716f4=_0x1716f4+0x2){_0x598a23+='\u00a00x'+_0x2cf6cb['substr'](_0x1716f4,0x2);_0x4f3da3++;}return _0x598a23['trim']();}function hex_to_bin(_0x532c6d){let _0x3e77e4=[{'key':0x0,'val':'0000'},{'key':0x1,'val':'0001'},{'key':0x2,'val':'0010'},{'key':0x3,'val':'0011'},{'key':0x4,'val':'0100'},{'key':0x5,'val':'0101'},{'key':0x6,'val':'0110'},{'key':0x7,'val':'0111'},{'key':0x8,'val':'1000'},{'key':0x9,'val':'1001'},{'key':'a','val':'1010'},{'key':'b','val':'1011'},{'key':'c','val':'1100'},{'key':'d','val':'1101'},{'key':'e','val':'1110'},{'key':'f','val':'1111'}];let _0x232606='';for(let _0x345ba9=0x0;_0x345ba9<_0x532c6d['length'];_0x345ba9++){for(let _0x2ec54b=0x0;_0x2ec54b<_0x3e77e4['length'];_0x2ec54b++){if(_0x532c6d['charAt'](_0x345ba9)['toLowerCase']()==_0x3e77e4[_0x2ec54b]['key']){_0x232606=_0x232606['concat'](_0x3e77e4[_0x2ec54b]['val']);break;}}}return _0x232606;}function getKey(_0x19d505){let _0x40a645=CryptoJS['enc']['Hex']['parse'](_0x19d505);let _0x3447b7=CryptoJS['enc']['Base64']['stringify'](_0x40a645);let _0x4c1d24=CryptoJS['AES']['decrypt'](_0x3447b7,CryptoJS['enc']['Utf8']['parse']('14cd516a30dc872b'),{'mode':CryptoJS['mode']['ECB'],'padding':CryptoJS['pad']['ZeroPadding']});let _0x529353=_0x4c1d24['toString']();let _0x387dd6=_0x529353['split']('');let _0x4e9a5b=[];_0x387dd6['forEach']((_0x1a16e5,_0x5acdef)=>{if(_0x5acdef%0x2===0x1){_0x4e9a5b['push'](_0x1a16e5);}});wx['Log']('getKey',_0x4c1d24['toString']());_0x4e9a5b=_0x4e9a5b['join']('');wx['Log']('key',_0x4e9a5b);return _0x4e9a5b;}function getpasswd(_0x511835){let _0x42cc02=CryptoJS['enc']['Hex']['parse'](_0x511835);let _0x6533f7=CryptoJS['enc']['Base64']['stringify'](_0x42cc02);let _0x47f0d2=CryptoJS['AES']['decrypt'](_0x6533f7,CryptoJS['enc']['Utf8']['parse']('14cd516a30dc872b'),{'mode':CryptoJS['mode']['ECB'],'padding':CryptoJS['pad']['ZeroPadding']});let _0x9fbff7=_0x47f0d2['toString']();wx['Log']('key_str',_0x9fbff7);let _0x370366='0x'+_0x9fbff7['substring'](0x0,0x2);let _0x3c1d73='0x'+_0x9fbff7['substring'](0x2,0x4);let _0x130d7d='0x'+_0x9fbff7['substring'](0x4,0x6);let _0x4384c4='0x'+_0x9fbff7['substring'](0x6,0x8);let _0x1bdd76=new ArrayBuffer(0xe);let _0x5278ba=new DataView(_0x1bdd76);_0x5278ba['setUint8'](0x0,0x1);_0x5278ba['setUint8'](0x1,0x1);_0x5278ba['setUint8'](0x2,_0x370366);_0x5278ba['setUint8'](0x3,_0x3c1d73);_0x5278ba['setUint8'](0x4,_0x130d7d);_0x5278ba['setUint8'](0x5,_0x4384c4);_0x5278ba['setUint8'](0x6,0x0);_0x5278ba['setUint8'](0x7,0x0);_0x5278ba['setUint8'](0x8,0x0);_0x5278ba['setUint8'](0x9,0x0);_0x5278ba['setUint8'](0xa,0x0);_0x5278ba['setUint8'](0xb,0x0);_0x5278ba['setUint8'](0xc,0x0);_0x5278ba['setUint8'](0xd,0x0);wx['Log']('bkid',ab2hex(_0x1bdd76));return _0x1bdd76;}var mh=function(_0x3c0ecf,_0x51fc96,_0x4cee91,_0x15177a){this['macId']=_0x3c0ecf;this['did']='';this['sid']='';this['cid']='';this['cid2']='';this['nid']='';this['passwd']=getpasswd(_0x4cee91);this['key']=getKey(_0x51fc96);this['isWriting']=![];this['status']=-0x1;this['msg']=[];this['controlResolve']=null;this['status_change']=_0x15177a;this['codeOld']='';this['codeNew']='';this['hoodAvailable']=0x1;this['hoodStatus']=0x0;this['engine']=0x0;this['commandType']=-0x1;this['command']={'flash':'04\x2021\x2000\x2025','flashAndHonking':'04\x2021\x2001\x2024','lock':'04\x2021\x2003\x2026','unlock':'04\x2021\x2002\x2027','roseWindow':'04\x2021\x2006\x2023','dropWindow':'04\x2021\x2007\x2022','check':'03\x2011\x2012','trunklock':'04\x2021\x2005\x2020','trunkUnlock':'04\x2021\x2004\x2021','openMainWindow':'04\x2021\x2009\x202c','closeMainWindow':'04\x2021\x2008\x202d','openTopWindow':'04\x2021\x200b\x202e','closeTopWindow':'04\x2021\x200a\x202f'};};mh['prototype']['flash']=function(){this['commandType']=0x5;this['write'](this['command']['flash']);return new Promise((_0x27a688,_0x183320)=>{this['controlResolve']=_0x27a688;});};mh['prototype']['flashAndHonking']=function(){this['commandType']=0x6;this['write'](this['command']['flashAndHonking']);return new Promise((_0x174089,_0x3e32aa)=>{this['controlResolve']=_0x174089;});};mh['prototype']['lock']=function(){this['commandType']=0x2;this['write'](this['command']['lock']);return new Promise((_0x3603cf,_0x4a0e74)=>{this['controlResolve']=_0x3603cf;});};mh['prototype']['unlock']=function(){this['commandType']=0x1;this['write'](this['command']['unlock']);return new Promise((_0x1ccaa4,_0x2df67d)=>{this['controlResolve']=_0x1ccaa4;});};mh['prototype']['roseWindow']=function(){this['commandType']=0x3;this['write'](this['command']['roseWindow']);return new Promise((_0x206c9b,_0x1832d8)=>{this['controlResolve']=_0x206c9b;});};mh['prototype']['dropWindow']=function(){this['commandType']=0x4;this['write'](this['command']['dropWindow']);return new Promise((_0x57f00c,_0x1cdb84)=>{this['controlResolve']=_0x57f00c;});};mh['prototype']['trunklock']=function(){this['commandType']=0x8;this['write'](this['command']['trunklock']);return new Promise((_0x5e611d,_0x58630c)=>{this['controlResolve']=_0x5e611d;});};mh['prototype']['trunkUnlock']=function(){this['commandType']=0x7;this['write'](this['command']['trunkUnlock']);return new Promise((_0x35031a,_0x213745)=>{this['controlResolve']=_0x35031a;});};mh['prototype']['check']=function(){this['commandType']=0x9;this['write'](this['command']['check']);return new Promise((_0x304ac8,_0x36c6a0)=>{this['controlResolve']=_0x304ac8;});};mh['prototype']['decrypt']=function(_0x5c2e6a){const _0xdd50ed=this;var _0x1f8574=CryptoJS['AES']['decrypt'](_0x5c2e6a,CryptoJS['enc']['Utf8']['parse'](_0xdd50ed['key']),{'mode':CryptoJS['mode']['ECB'],'padding':CryptoJS['pad']['ZeroPadding']});return _0x1f8574['toString']();};mh['prototype']['encrypt']=function(_0x41b751){const _0x225abf=this;return CryptoJS['AES']['encrypt'](_0x41b751,CryptoJS['enc']['Utf8']['parse'](_0x225abf['key']),{'mode':CryptoJS['mode']['ECB'],'padding':CryptoJS['pad']['ZeroPadding']});};mh['prototype']['setStatus']=function(_0x4b3be1,_0x352672){this['status']=_0x4b3be1;this['msg']=_0x352672;if(this['status']==0x0){this['close']();}if(this['status_change']){this['status_change'](_0x4b3be1,_0x352672);}};mh['prototype']['wait']=function(_0x341e37){if(!_0x341e37){_0x341e37=0x1f5;}return new Promise((_0x4e744a,_0x3961b8)=>{setTimeout(()=>{_0x4e744a();},_0x341e37);});};mh['prototype']['read']=async function(){return new Promise((_0x1743f1,_0x496b30)=>{wx['readBLECharacteristicValue']({'deviceId':this['did'],'serviceId':this['sid'],'characteristicId':this['nid'],'success':_0x15f339=>{wx['Log']('读取值成功');_0x1743f1(_0x15f339);},'fail':_0x295c6b=>{wx['Log']('读取值失败');_0x496b30(_0x295c6b);},'complete':_0x307110=>{wx['Log']('readBLECharacteristicValue:',_0x307110);wx['Log']('读取值完毕');}});});};mh['prototype']['write']=function(_0x17bc14){if(this['isWriting']){return Promise['reject'](0x0);}this['isWriting']=!![];let _0x8eaac=hex16tostr(_0x17bc14);wx['Log']('strsss',_0x8eaac);var _0x2eab76=this['encrypt'](_0x8eaac)['ciphertext']['toString']();wx['Log']('pwdstr',_0x2eab76);let _0x55a7a0=strToHexCharCode(_0x2eab76);let _0x406120=_0x55a7a0['split']('\u00a0');let _0x24f4d7=_0x406120['length'];let _0x2afc6f=new ArrayBuffer(_0x24f4d7);let _0x324d4d=new DataView(_0x2afc6f);let _0xf59adb='';for(let _0x2e1c46=0x0;_0x2e1c46<_0x24f4d7;_0x2e1c46++){_0x324d4d['setUint8'](_0x2e1c46,_0x406120[_0x2e1c46]['toString'](0x10));_0xf59adb+=_0x324d4d['getUint8'](_0x2e1c46)['toString'](0x10)+'\u00a0';}wx['Log']('dataView',_0x324d4d,'writeDatas',_0xf59adb);wx['Log']('str2',_0x55a7a0);if(this['status']!==0x2){return![];}return new Promise((_0x5bb108,_0x4a106b)=>{wx['writeBLECharacteristicValue']({'deviceId':this['did'],'serviceId':this['sid'],'characteristicId':this['cid2'],'value':_0x2afc6f,'success':_0x49944d=>{this['isWriting']=![];_0x5bb108(_0x49944d);},'fail':_0x1159da=>{this['isWriting']=![];_0x4a106b(_0x1159da);},'complete':_0x4bdf14=>{this['isWriting']=![];}});});};mh['prototype']['openBlue']=function(){return new Promise((_0x7f53e,_0x29d930)=>{wx['openBluetoothAdapter']({'success':_0x49074e=>{wx['Log']('开启蓝牙适配器success',_0x49074e);_0x7f53e(_0x49074e);},'fail':_0x93c5e7=>{wx['Log']('打开蓝牙失败');this['setStatus'](0x0,'请先打开蓝牙,并允许微信使用蓝牙');_0x29d930(_0x93c5e7);},'complete'(_0x2e82a3){}});});};mh['prototype']['startDiscovery']=function(){return new Promise((_0x3af95f,_0x386d6e)=>{wx['startBluetoothDevicesDiscovery']({'success':_0xdd4262=>{wx['Log']('开启蓝牙搜寻功能.....');_0x3af95f();},'fail':_0xa2a0f3=>{_0x386d6e(_0xa2a0f3);},'complete'(_0x9b01a9){}});});};mh['prototype']['stopDiscovery']=function(){wx['stopBluetoothDevicesDiscovery']({'success'(_0x439208){wx['Log']('关闭蓝牙搜寻功能',_0x439208);}});wx['offBluetoothDeviceFound']({'success'(_0x264cd3){wx['Log']('取消监听寻找到新设备',_0x264cd3);}});};mh['prototype']['answer']=async function(_0x2119e2){this['codeOld']=this['codeNew'];this['codeNew']=_0x2119e2['substring'](0x2,0x4);wx['Log']('执行value变化后的回调',_0x2119e2);if(this['codeOld']=='24'&&this['codeNew']=='51'){let _0x16b7f1=hex_to_bin(_0x2119e2['substring'](0x6,0x8))['split']('');wx['Log']('code_door',_0x16b7f1);if(this['commandType']===0x1){if(_0x16b7f1[0x0]==0x1){if(this['controlResolve']){this['controlResolve']({'status':'success','content':''});}}else{if(this['controlResolve']){this['controlResolve']({'status':'fail','content':''});}}}if(this['commandType']===0x2){if(_0x16b7f1[0x0]==0x0){if(this['controlResolve']){this['controlResolve']({'status':'success','content':''});}}else{if(this['controlResolve']){this['controlResolve']({'status':'fail','content':''});}}}if(this['commandType']===0x3){let _0x5a0267=_0x2119e2['substring'](0x8,0xa);wx['Log']('code_window',_0x5a0267,hex_to_bin(_0x2119e2['substring'](0x8,0xa)));if(_0x5a0267=='00'){if(this['controlResolve']){this['controlResolve']({'status':'success','content':''});}}else{if(this['controlResolve']){this['controlResolve']({'status':'fail','content':''});}}}if(this['commandType']===0x4){let _0x397236=_0x2119e2['substring'](0x8,0xa);if(_0x397236=='aa'){if(this['controlResolve']){this['controlResolve']({'status':'success','content':''});}}else{if(this['controlResolve']){this['controlResolve']({'status':'fail','content':''});}}}if(this['commandType']===0x7){if(_0x16b7f1[0x1]==0x1){if(this['controlResolve']){this['controlResolve']({'status':'success','content':''});}}else{if(this['controlResolve']){this['controlResolve']({'status':'fail','content':''});}}}if(this['commandType']===0x8){if(_0x16b7f1[0x1]==0x0){if(this['controlResolve']){this['controlResolve']({'status':'success','content':''});}}else{if(this['controlResolve']){this['controlResolve']({'status':'fail','content':''});}}}}else if(this['codeNew']=='24'){let _0x28ea61=_0x2119e2['substring'](0x4,0x6);wx['Log']('code3',_0x28ea61);if(_0x28ea61=='00'){if(this['controlResolve']){this['controlResolve']({'status':'complete','content':''});}}else{let _0x54b66='';for(let _0x2e5d7d=0x0;_0x2e5d7d<fail['length'];_0x2e5d7d++){if(fail[_0x2e5d7d]['status']==_0x28ea61){_0x54b66=_0x2e5d7d;}}wx['Log']('tmp_index',_0x54b66,fail[_0x54b66]['name']);wx['Log']('controlResolve',this['controlResolve']);if(_0x54b66!==''){if(this['controlResolve']){this['controlResolve']({'status':'fail','content':fail[_0x54b66]['name']});}}}}else if(this['codeNew']=='61'){let _0x160bcc=_0x2119e2['substring'](0x4,0x6);let _0x441e88='';for(let _0x385bbf=0x0;_0x385bbf<disconnect['length'];_0x385bbf++){if(disconnect[_0x385bbf]['status']==_0x160bcc){_0x441e88=_0x385bbf;}}wx['Log']('disconnect[tmp_index].name',disconnect[_0x441e88]['name']);if(_0x441e88!==''){this['setStatus'](0x0,disconnect[_0x441e88]['name']);}}else if(this['codeNew']=='12'){let _0x4a6cb5=hex_to_bin(_0x2119e2['substring'](0x6,0x8))['split']('');for(let _0x50e101=0x0;_0x50e101<door['length'];_0x50e101++){door[_0x50e101]['status']=_0x4a6cb5[_0x50e101];}let _0x15de76=hex_to_bin(_0x2119e2['substring'](0x8,0xa))['split']('');if(_0x15de76[0x0]==0x0&&_0x15de76[0x1]==0x0){windowInfo[0x0]['status']=0x0;}else{windowInfo[0x0]['status']=0x1;}if(_0x15de76[0x2]==0x0&&_0x15de76[0x3]==0x0){windowInfo[0x1]['status']=0x0;}else{windowInfo[0x1]['status']=0x1;}if(_0x15de76[0x4]==0x0&&_0x15de76[0x5]==0x0){windowInfo[0x2]['status']=0x0;}else{windowInfo[0x2]['status']=0x1;}if(_0x15de76[0x6]==0x0&&_0x15de76[0x7]==0x0){windowInfo[0x3]['status']=0x0;}else{windowInfo[0x3]['status']=0x1;}let _0xbfa269=door['concat'](windowInfo);let _0x13fd79=[{'name':'引擎盖功能是否可用','status':0x0},{'name':'引擎盖是否开启','status':0x0}];if(this['hoodAvailable']==0x1){_0x13fd79[0x0]['status']='1';}else{_0x13fd79[0x0]['status']='0';}if(this['hoodStatus']==0x1){_0x13fd79[0x1]['status']='1';}else{_0x13fd79[0x1]['status']='0';}let _0x403f0c=_0xbfa269['concat'](_0x13fd79);let _0x27fa69=[{'name':'发动机是否启动','status':0x0}];if(this['engine']==0x0){_0x27fa69[0x0]['status']=0x0;}else{_0x27fa69[0x0]['status']=0x1;}let _0x52c597=_0x403f0c['concat'](_0x27fa69);wx['Log']('result',_0x52c597);if(this['controlResolve']){this['controlResolve']({'status':'info','content':_0x52c597});}}else if(this['codeNew']=='51'){let _0x5680eb=hex_to_bin(_0x2119e2['substring'](0xa,0xc))['split']('');let _0x58f31c=hex_to_bin(_0x2119e2['substring'](0x4,0x6))['split']('');if(_0x5680eb[0x3]==0x1){this['hoodAvailable']=0x1;}else{this['hoodAvailable']=0x0;}if(_0x5680eb[0x4]==0x1){this['hoodStatus']=0x1;}else{this['hoodStatus']=0x0;}if(_0x58f31c[0x6]==0x0){this['engine']=0x0;}else{this['engine']=0x1;}}};mh['prototype']['getBlue']=function(){let _0x31149a=this['macId'];return new Promise((_0x1533f2,_0x55d358)=>{wx['getBluetoothDevices']({'success':_0x509bb7=>{wx['Log']('找到的设备：',_0x509bb7);_0x509bb7['devices']['forEach'](_0x5b87d3=>{if(_0x5b87d3['advertisServiceUUIDs']&&_0x5b87d3['advertisServiceUUIDs']['length']>0x0){if(_0x5b87d3['advertisServiceUUIDs'][0x0]=='6E400001-B5A3-F393-E0A9-'+_0x31149a){wx['Log']('找到了',_0x5b87d3['advertisServiceUUIDs'][0x0]);this['did']=_0x5b87d3['deviceId'];this['stopDiscovery']();this['connect']();return;}}});}});});};mh['prototype']['connect']=function(){wx['Log']('执行连接操作');return new Promise(async(_0x47b507,_0x55a8de)=>{var _0x3873e5=await this['create']();var _0x2a868f=await this['getService']();this['getCharacter']();});};mh['prototype']['notify']=function(){return new Promise((_0xece534,_0x129b34)=>{wx['notifyBLECharacteristicValueChange']({'state':!![],'deviceId':this['did'],'serviceId':this['sid'],'characteristicId':this['nid'],'success':_0x1489eb=>{wx['Log']('notify\x20success',_0x1489eb);_0xece534();},'fail':_0x2c7dce=>{this['status']=0x0;this['msg']='启用notify失败....';_0x129b34(_0x2c7dce);},'complete':_0x37082c=>{}});});};mh['prototype']['create']=function(){return new Promise((_0x1a99f4,_0xc8033d)=>{wx['createBLEConnection']({'deviceId':this['did'],'success':_0x2d29e0=>{wx['Log']('createBLEConnection成功');_0x1a99f4(_0x2d29e0);},'fail':_0x1ebf41=>{this['setStatus'](0x0,'连接失败，请在车辆附近重试');_0xc8033d(_0x1ebf41);},'complete':_0x2060a3=>{}});});};mh['prototype']['getService']=function(){return new Promise((_0x432e04,_0x1ac54d)=>{wx['getBLEDeviceServices']({'deviceId':this['did'],'success':_0x5f3865=>{wx['Log']('getService成功...',_0x5f3865);for(let _0x12e9cd=0x0;_0x12e9cd<_0x5f3865['services']['length'];_0x12e9cd++){if(_0x5f3865['services'][_0x12e9cd]['isPrimary']){this['sid']=_0x5f3865['services'][_0x12e9cd]['uuid'];_0x432e04(_0x5f3865['services'][_0x12e9cd]);return;}}},'fail':_0x34bdb1=>{wx['Log']('getService失败...',res);this['setStatus'](0x0,'连接失败，请在车辆附近重试');},'complete':_0xa120d4=>{}});});};mh['prototype']['getCharacter']=function(){wx['getBLEDeviceCharacteristics']({'deviceId':this['did'],'serviceId':this['sid'],'success':_0x38a080=>{wx['Log']('getBLEDeviceCharacteristics\x20success',_0x38a080['characteristics']);wx['Log']('this.passwd',this['passwd']['toString']());wx['Log']('this.key',this['key']);for(let _0x1d2582=0x0;_0x1d2582<_0x38a080['characteristics']['length'];_0x1d2582++){let _0x46dcad=_0x38a080['characteristics'][_0x1d2582];if(_0x46dcad['properties']['write']){this['cid']=_0x46dcad['uuid'];}if(_0x46dcad['properties']['notify']||_0x46dcad['properties']['indicate']){this['nid']=_0x46dcad['uuid'];wx['notifyBLECharacteristicValueChange']({'deviceId':this['did'],'serviceId':this['sid'],'characteristicId':_0x46dcad['uuid'],'state':!![]});}}this['cid2']=this['cid']['replace'](/6E400\d{3}/,'6E400002');wx['writeBLECharacteristicValue']({'deviceId':this['did'],'serviceId':this['sid'],'characteristicId':this['cid'],'value':this['passwd'],'complete':_0x518775=>{wx['Log']('write',_0x518775);}});},'fail'(_0x38241e){}});wx['Log']('开启特征值变化监听');wx['onBLECharacteristicValueChange'](_0x424713=>{wx['Log']('changed',_0x424713);wx['Log']('characteristic\x20'+_0x424713['characteristicId']+'\x20has\x20changed,\x20now\x20is\x20'+_0x424713['value']);wx['Log'](ab2hex(_0x424713['value']));if(_0x424713['value']){var _0x487db7=CryptoJS['enc']['Hex']['parse'](ab2hex(_0x424713['value']));var _0x47550a=CryptoJS['enc']['Base64']['stringify'](_0x487db7);wx['Log']('解密后的值：',this['decrypt'](_0x47550a));this['answer'](this['decrypt'](_0x47550a));}});};mh['prototype']['start']=async function(){this['setStatus'](0x1,'连接中');this['commandType']=0x3e7;wx['onBluetoothAdapterStateChange'](_0xa7510d=>{wx['Log']('监听适配器变化',_0xa7510d);if(!_0xa7510d['available']){this['setStatus'](0x0,'连接已断开');}});wx['onBLEConnectionStateChange'](_0x43b4e4=>{if(!_0x43b4e4['connected']){this['setStatus'](0x0,'连接已断开');}if(_0x43b4e4['connected']){this['setStatus'](0x2,'连接成功');}wx['Log']('监听连接状态变化',_0x43b4e4['connected'],this['status']);});var _0xb6e3dd=await this['openBlue']()['catch'](()=>{this['status']=0x0;this['msg']='请先打开蓝牙,并允许微信使用蓝牙';});if(_0xb6e3dd==undefined){return![];}await this['wait'](0x1f4);wx['Log']('this.did',this['did']);if(this['did']){await this['connect']();}else{wx['onBluetoothDeviceFound'](async _0x568f56=>{wx['Log']('检测倒新设备....',_0x568f56);await this['getBlue']();});var _0x43ccf2=await this['startDiscovery']();}};mh['prototype']['close']=function(){this['stopDiscovery']();this['commandType']=0x3e6;if(this['did']){wx['closeBLEConnection']({'deviceId':this['did'],'success'(_0x3bc6fa){wx['Log']('关闭蓝牙连接success',_0x3bc6fa);}});}wx['closeBluetoothAdapter']({'success'(_0x20a8c1){wx['Log']('关闭蓝牙适配器success',_0x20a8c1);}});};export default mh;